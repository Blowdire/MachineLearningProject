<?xml version="1.0" encoding="UTF-8"?>
<config xmlns="http://www.knime.org/2008/09/XMLConfig" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://www.knime.org/2008/09/XMLConfig http://www.knime.org/XMLConfig_2008_09.xsd" key="settings.xml">
    <entry key="node_file" type="xstring" value="settings.xml"/>
    <config key="flow_stack"/>
    <config key="internal_node_subsettings">
        <entry key="memory_policy" type="xstring" value="CacheSmallInMemory"/>
    </config>
    <config key="model">
        <config key="figure.ouput.type_Internals">
            <entry key="SettingsModelID" type="xstring" value="SMID_string"/>
            <entry key="EnabledStatus" type="xboolean" value="true"/>
        </config>
        <entry key="figure.ouput.type" type="xstring" value="png"/>
        <config key="write.output.file_Internals">
            <entry key="SettingsModelID" type="xstring" value="SMID_boolean"/>
            <entry key="EnabledStatus" type="xboolean" value="true"/>
        </config>
        <entry key="write.output.file" type="xboolean" value="true"/>
        <config key="node.script_Internals">
            <entry key="SettingsModelID" type="xstring" value="SMID_string"/>
            <entry key="EnabledStatus" type="xboolean" value="true"/>
        </config>
        <entry key="node.script" type="xstring" value="%%00010%%00010#1. Parameter selection%%00010%%00010%%00010#Select the parameter of interest%%00010%%00010%%00010selReadouts = c(&quot;Residual&quot;)%%00010%%00010useFlowVarSelReadouts&lt;-FALSE%%00010flowVariableSelReadouts&lt;-NA%%00010%%00010%%00010#2. r-code%%00010%%00010#2.0 load libaries%%00010library(grid)%%00010%%00010#2.1 manage RGG to R: define as numbers%%00010%%00010#2.2 manage RGG to R: set scales to default and check scales%%00010if (useFlowVarSelReadouts) selReadouts &lt;- flowVariableSelReadouts%%00010%%00010#3. calculate%%00010%%00010#4.1 layout plot%%00010numGridRows = ifelse(length(selReadouts) &gt; 1, 2, 1)%%00010par(mfrow = c(numGridRows, ceiling(length(selReadouts) / numGridRows)))%%00010%%00010#4.2 plot data%%00010# iterate over all parameters and create plots for all of them%%00010lapply(selReadouts, FUN = function (param) {%%00010%%00009plotVar = eval(parse(text = paste(&quot;kIn$\&quot;&quot;, param, &quot;\&quot;&quot;, sep = '')))%%00010%%00009#remove NA (shapiro test allows NA but data has to have 3 - 5000 non-missing-values)%%00010%%00009plotVar &lt;- plotVar[which(!is.na(plotVar))]%%00010%%00010%%00009#plot%%00010%%00009qqnorm(plotVar, main = param)%%00010%%00009qqline(plotVar)%%00010%%00009%%00010%%00009# if there are more than 5000 data points, run test on a subset%%00010%%00009if(length(plotVar) &gt; 5000) {%%00010%%00009%%00009plotVar &lt;- sample(plotVar, 5000)%%00010%%00009}%%00010%%00010%%00009# do the test and add the p-value to the plot%%00010%%00009testresult &lt;- shapiro.test(plotVar)%%00010%%00010%%00009# use relative positioning of the text plotting (http://www.mail-archive.com/r-help@r-project.org/msg15119.html)%%00010%%00009usr &lt;- par(&quot;usr&quot;)                      # get user coordinates%%00010%%00009par(usr = c(0, 1, 0, 1))               # new relative user coordinates%%00010%%00009text(0.75, 0.05, format(testresult$p.value, scientific=TRUE, digits=4), cex=1.5, col=2)   # if that's what you want%%00010%%00009par(usr = usr)                         # restore original user coordinates%%00010})%%00010%%00010%%00010"/>
        <config key="chunk.in_Internals">
            <entry key="SettingsModelID" type="xstring" value="SMID_integer"/>
            <entry key="EnabledStatus" type="xboolean" value="true"/>
        </config>
        <entry key="chunk.in" type="xint" value="-1"/>
        <config key="chunk.out_Internals">
            <entry key="SettingsModelID" type="xstring" value="SMID_integer"/>
            <entry key="EnabledStatus" type="xboolean" value="true"/>
        </config>
        <entry key="chunk.out" type="xint" value="-1"/>
        <config key="figure.output.file_Internals">
            <entry key="SettingsModelID" type="xstring" value="SMID_string"/>
            <entry key="EnabledStatus" type="xboolean" value="true"/>
        </config>
        <entry key="figure.output.file" type="xstring" value=""/>
        <config key="overwrite.ok_Internals">
            <entry key="SettingsModelID" type="xstring" value="SMID_boolean"/>
            <entry key="EnabledStatus" type="xboolean" value="true"/>
        </config>
        <entry key="overwrite.ok" type="xboolean" value="false"/>
        <config key="figure.height_Internals">
            <entry key="SettingsModelID" type="xstring" value="SMID_integer"/>
            <entry key="EnabledStatus" type="xboolean" value="true"/>
        </config>
        <entry key="figure.height" type="xint" value="700"/>
        <config key="figure.width_Internals">
            <entry key="SettingsModelID" type="xstring" value="SMID_integer"/>
            <entry key="EnabledStatus" type="xboolean" value="true"/>
        </config>
        <entry key="figure.width" type="xint" value="1000"/>
        <config key="open.in_Internals">
            <entry key="SettingsModelID" type="xstring" value="SMID_boolean"/>
            <entry key="EnabledStatus" type="xboolean" value="true"/>
        </config>
        <entry key="open.in" type="xboolean" value="false"/>
        <config key="node.template_Internals">
            <entry key="SettingsModelID" type="xstring" value="SMID_string"/>
            <entry key="EnabledStatus" type="xboolean" value="true"/>
        </config>
        <entry key="node.template" type="xstring" value="&lt;de.mpicbg.knime.scripting.core.rgg.wizard.ScriptTemplate&gt;%%00010  &lt;scriptingLanguage&gt;&lt;/scriptingLanguage&gt;%%00010  &lt;author&gt;Holger Brandl, Martin Stoeter&lt;/author&gt;%%00010  &lt;categories&gt;%%00010    &lt;string&gt; screening&lt;/string&gt;%%00010    &lt;string&gt;qc&lt;/string&gt;%%00010  &lt;/categories&gt;%%00010  &lt;description&gt;Creates a grid of qq-plots (with respect to normal distribution) which allow to visually determine which parameters follow a normal distribution%%00010- to use a flow variable check box and type in variable name using the format: FLOWVAR(variable name)%%00010- use the R-snippet template &amp;quot;Shapiro-Wilk Normality Test (QQ-Plot)&amp;quot; to get the statistics&lt;/description&gt;%%00010  &lt;template&gt;&amp;lt;rgg&amp;gt;%%00010%%00010&amp;lt;!--1. Title and short description --&amp;gt;%%00010%%00010&amp;lt;h3 text=&amp;quot;QQ-Plot grid&amp;quot; aligment=&amp;quot;center&amp;quot; span=&amp;quot;full&amp;quot;/&amp;gt;%%00010&amp;lt;separator label=&amp;quot;Description&amp;quot; span=&amp;quot;full&amp;quot;/&amp;gt;%%00010&amp;lt;labelarea span=&amp;quot;full&amp;quot;&amp;gt;Creates a grid of qq-plots (with respect to normal distribution) which allow to visually determine which parameters follow a normal distribution%%00010- to use a flow variable check box and type in variable name using the format: FLOWVAR(variable name)%%00010- use the R-snippet template &amp;quot;Shapiro-Wilk Normality Test (QQ-Plot)&amp;quot; to get the statistics&amp;lt;/labelarea&amp;gt;%%00010&amp;lt;gaprow height=&amp;quot;1&amp;quot;/&amp;gt;%%00010%%00010&amp;lt;!-- 2. Configuration--&amp;gt;%%00010%%00010&amp;lt;separator label=&amp;quot;Options&amp;quot; span=&amp;quot;full&amp;quot;/&amp;gt;%%00010&amp;lt;gaprow height=&amp;quot;2&amp;quot;/&amp;gt;%%00010%%00010#1. Parameter selection%%00010&amp;lt;group&amp;gt;%%00010%%00010#Select the parameter of interest%%00010&amp;lt;separator label=&amp;quot;Select your parameters for which you would like to see a qq-plots                                                                                                          &amp;quot;/&amp;gt;%%00010%%00010selReadouts = c(&amp;lt;panellistbox label=&amp;quot;Parameters of interest&amp;quot; items=&amp;quot;$$$NUM_ATTRIBUTES$$$&amp;quot; span=&amp;quot;full&amp;quot;/&amp;gt;)%%00010&amp;lt;hbox&amp;gt;%%00010&amp;lt;checkbox  label=&amp;quot;use flow variable&amp;quot; var=&amp;quot;useFlowVarSelReadouts&amp;quot; selected=&amp;quot;false&amp;quot;/&amp;gt;%%00010&amp;lt;textfield label=&amp;quot;flow variable:&amp;quot; var=&amp;quot;flowVariableSelReadouts&amp;quot; data-type=&amp;quot;text&amp;quot; default-value= &amp;quot;&amp;quot; size=&amp;quot;10&amp;quot; span=&amp;quot;full&amp;quot;/&amp;gt;%%00010&amp;lt;/hbox&amp;gt;%%00010%%00010&amp;lt;/group&amp;gt;%%00010%%00010&amp;lt;![CDATA[%%00010%%00010#2. r-code%%00010%%00010#2.0 load libaries%%00010library(grid)%%00010%%00010#2.1 manage RGG to R: define as numbers%%00010%%00010#2.2 manage RGG to R: set scales to default and check scales%%00010if (useFlowVarSelReadouts) selReadouts &amp;lt;- flowVariableSelReadouts%%00010%%00010#3. calculate%%00010%%00010#4.1 layout plot%%00010numGridRows = ifelse(length(selReadouts) &amp;gt; 1, 2, 1)%%00010par(mfrow = c(numGridRows, ceiling(length(selReadouts) / numGridRows)))%%00010%%00010#4.2 plot data%%00010# iterate over all parameters and create plots for all of them%%00010lapply(selReadouts, FUN = function (param) {%%00010%%00009plotVar = eval(parse(text = paste(&amp;quot;kIn$\&amp;quot;&amp;quot;, param, &amp;quot;\&amp;quot;&amp;quot;, sep = &amp;apos;&amp;apos;)))%%00010%%00009#remove NA (shapiro test allows NA but data has to have 3 - 5000 non-missing-values)%%00010%%00009plotVar &amp;lt;- plotVar[which(!is.na(plotVar))]%%00010%%00010%%00009#plot%%00010%%00009qqnorm(plotVar, main = param)%%00010%%00009qqline(plotVar)%%00010%%00009%%00010%%00009# if there are more than 5000 data points, run test on a subset%%00010%%00009if(length(plotVar) &amp;gt; 5000) {%%00010%%00009%%00009plotVar &amp;lt;- sample(plotVar, 5000)%%00010%%00009}%%00010%%00010%%00009# do the test and add the p-value to the plot%%00010%%00009testresult &amp;lt;- shapiro.test(plotVar)%%00010%%00010%%00009# use relative positioning of the text plotting (http://www.mail-archive.com/r-help@r-project.org/msg15119.html)%%00010%%00009usr &amp;lt;- par(&amp;quot;usr&amp;quot;)                      # get user coordinates%%00010%%00009par(usr = c(0, 1, 0, 1))               # new relative user coordinates%%00010%%00009text(0.75, 0.05, format(testresult$p.value, scientific=TRUE, digits=4), cex=1.5, col=2)   # if that&amp;apos;s what you want%%00010%%00009par(usr = usr)                         # restore original user coordinates%%00010})%%00010%%00010]]&amp;gt;%%00010%%00010&amp;lt;/rgg&amp;gt;&lt;/template&gt;%%00010  &lt;persistedConfig&gt;%%00010    &lt;entry&gt;%%00010      &lt;string&gt;flow variable:&lt;/string&gt;%%00010      &lt;string&gt;&lt;/string&gt;%%00010    &lt;/entry&gt;%%00010    &lt;entry&gt;%%00010      &lt;string&gt;Parameters of interest&lt;/string&gt;%%00010      &lt;list&gt;%%00010        &lt;string&gt;Residual&lt;/string&gt;%%00010      &lt;/list&gt;%%00010    &lt;/entry&gt;%%00010    &lt;entry&gt;%%00010      &lt;string&gt;use flow variable&lt;/string&gt;%%00010      &lt;boolean&gt;false&lt;/boolean&gt;%%00010    &lt;/entry&gt;%%00010  &lt;/persistedConfig&gt;%%00010  &lt;name&gt;QQ-Plot grid&lt;/name&gt;%%00010  &lt;linkedToScript&gt;true&lt;/linkedToScript&gt;%%00010  &lt;previewURL&gt;https://raw.githubusercontent.com/knime-mpicbg/scripting-templates/master/knime-scripting-templates/R/qq-plot.png&lt;/previewURL&gt;%%00010  &lt;templateURL&gt;https://raw.githubusercontent.com/knime-mpicbg/scripting-templates/master/knime-scripting-templates/R/figure-templates.txt&lt;/templateURL&gt;%%00010&lt;/de.mpicbg.knime.scripting.core.rgg.wizard.ScriptTemplate&gt;"/>
    </config>
    <config key="nodeAnnotation">
        <entry key="text" type="xstring" value="Q Q Plot"/>
        <entry key="bgcolor" type="xint" value="16777215"/>
        <entry key="x-coordinate" type="xint" value="227"/>
        <entry key="y-coordinate" type="xint" value="399"/>
        <entry key="width" type="xint" value="106"/>
        <entry key="height" type="xint" value="15"/>
        <entry key="alignment" type="xstring" value="CENTER"/>
        <entry key="borderSize" type="xint" value="0"/>
        <entry key="borderColor" type="xint" value="16777215"/>
        <entry key="defFontSize" type="xint" value="9"/>
        <entry key="annotation-version" type="xint" value="20151123"/>
        <config key="styles"/>
    </config>
    <entry key="customDescription" type="xstring" isnull="true" value=""/>
    <entry key="state" type="xstring" value="CONFIGURED"/>
    <config key="nodecontainer_message">
        <entry key="type" type="xstring" value="ERROR"/>
        <entry key="message" type="xstring" value="Execute failed: Could not connect to R. Probably, the R-Server is not running.%%00010Here's what you need to do:%%00010 1) Check what R-server-host is configured in your Knime preferences.%%00010 2) If your host is set to be 'localhost' start R and run the following command%%00010 library(Rserve); Rserve(args = &quot;--vanilla&quot;)"/>
    </config>
    <entry key="factory" type="xstring" value="de.mpicbg.knime.scripting.r.node.plot.RPlotNodeFactory"/>
    <entry key="node-name" type="xstring" value="R Plot"/>
    <entry key="node-bundle-name" type="xstring" value="RSnippet-Node extension for KNIME Workbench"/>
    <entry key="node-bundle-symbolic-name" type="xstring" value="de.mpicbg.knime.scripting.r"/>
    <entry key="node-bundle-vendor" type="xstring" value="Max Planck Institute of Molecular Cell Biology and Genetics (MPI-CBG)"/>
    <entry key="node-bundle-version" type="xstring" value="4.0.0.v202009100739"/>
    <entry key="node-feature-name" type="xstring" value="KNIME R Scripting extension"/>
    <entry key="node-feature-symbolic-name" type="xstring" value="de.mpicbg.tds.knime.scripting.r.feature.feature.group"/>
    <entry key="node-feature-vendor" type="xstring" value="Max Planck Institute of Molecular Cell Biology and Genetics (MPI-CBG), Dresden, Germany"/>
    <entry key="node-feature-version" type="xstring" value="4.0.0.v202009100739"/>
    <config key="factory_settings"/>
    <entry key="name" type="xstring" value="R Plot"/>
    <entry key="hasContent" type="xboolean" value="false"/>
    <entry key="isInactive" type="xboolean" value="false"/>
    <config key="ports">
        <config key="port_1">
            <entry key="index" type="xint" value="1"/>
            <entry key="port_dir_location" type="xstring" isnull="true" value=""/>
        </config>
    </config>
    <config key="filestores">
        <entry key="file_store_location" type="xstring" isnull="true" value=""/>
        <entry key="file_store_id" type="xstring" isnull="true" value=""/>
    </config>
</config>
